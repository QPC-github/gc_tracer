<html>
  <head>
    <meta charset="utf-8">
    <script src="./share/jquery-2.1.0.min.js"></script>

<script>

function startAnimation(){
    var dir = $("#dir").val();
    var start = Number($("#start").val());
    var end = Number($("#end").val());
    var sleep_time = Number($("#wait").val());
    var i = start, j = 0;

    var timer_func = function(){
        image_path = dir + "/png/" +  ("00000000"+i).slice(-8) + "." + j + ".ppm.png";
        $("#view").attr({
          src: image_path
        });
        $("#status").text(image_path);

        if (j < 2) {
            j += 1;
        }
        else {
            if (i < end) {
                i += 1;
                j = 0;
            }
            else{
                return false;
            }
        }
        setTimeout(timer_func, sleep_time);
    }

    timer_func();
}

$(function(){
    $("#submit").click(
        function(){
            startAnimation();
        });
});

</script>
  </head>
  <body>
    <p>
      dir: <input type='text' id='dir' value='test'>,
      start: <input type='text' id='start' value='5'>,
      end: <input type='text' id='end' value='100'>
      wait: <input type='text' id='wait' value='300'>,
    </p>
    <p>
      <input type='submit' id='submit' value='start!'><span id='status'></span>
    </p>
    <img id='view'>
  </body>
</html>